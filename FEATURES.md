# Book Club Companion - Feature Inventory

## 1. Login Page

### Authentication
- [x] Email/password login (Supabase Auth)
- [x] Sign up with invite code (membership gating)
- [x] Tab switching between Login and Sign Up forms
- [x] Auto-create user profile on signup (with 'member' role)
- [x] Session persistence (auto-login on return)

### Role System
- [x] Admin role (full access)
- [x] Member role (restricted access)
- [x] Role stored in `user_profiles` table

---

## 2. Dashboard

### Hero Section - "Next Up"
- [x] Displays next scheduled book (nearest future date)
- [x] Book cover, title, author, host, meeting date/time
- [x] "Add to Calendar" dropdown (Google Calendar link, Outlook/Apple .ics download)
- [x] Click to open book details modal

### Upcoming Books List
- [x] Shows next 3-5 scheduled books after "Next Up"
- [x] Compact card format with date and host

### Empty State
- [x] Friendly message when no scheduled books exist

---

## 3. Find a Book (Search)

### Search Interface
- [x] Google Books API search
- [x] Real-time results display
- [x] Grid layout with book cards

### Search Results Cards
- [x] Book cover (framed & centered style)
- [x] Title, author, page count
- [x] Click to open modal for details/save

---

## 4. Library

### Filtering Options
- [x] Filter by Status (Scheduled, Read, Proposed, Priority, Possible, Later, Deprioritize, Test)
- [x] Filter by Year (Club Year derived from target_date)
- [x] Filter by Tag (dynamic from saved books)
- [x] Filter by Rating (4.5+, 4.0-4.5, 3.5-4.0, Under 3.5, Unrated)

### Sorting Options
- [x] Newest (created_at descending)
- [x] Oldest (created_at ascending)
- [x] Date Scheduled (target_date)
- [x] Title (A-Z)
- [x] Author (A-Z)
- [x] Top Rated

### View Modes
- [x] Grid view (cards)
- [x] Table view (spreadsheet style)

### Book Cards (Grid View)
- [x] Book cover with status badge
- [x] Title, author
- [x] Rating badge (Google/Open Library)
- [x] Tags displayed
- [x] Host name if scheduled
- [x] Click to open modal

### Table View
- [x] Columns: Book, Status, Rating, Host, Tags, Club Date, Added

### Actions
- [x] Refresh button to reload from database
- [x] Toggle Test Data visibility (Admin only)

---

## 5. Book Details Modal

### Display Section (Left Column)
- [x] Book cover image (high-res)
- [x] Google Books rating badge
- [x] Open Library rating badge
- [x] "Get Rating" button (fetches Goodreads rating via scraping)
- [x] External links: Goodreads, Amazon, Library (WorldCat)
- [x] Discussion Guide button (for Scheduled books)
- [x] Save to List button (for unsaved books)

### Details Section (Right Column)
- [x] Title, author, page count
- [x] Description with "See more" expansion
- [x] For saved books: Edit section

### Edit Section (Saved Books)
- [x] Status dropdown
- [x] Host name input
- [x] Target date picker
- [x] Meeting time picker (auto-fills 7:15 PM when date selected)
- [x] Clear date button
- [x] Tags editor with chips (add/remove)
- [x] Tag autocomplete from existing tags
- [x] "Suggest Tags" AI button (Gemini)
- [x] Notes textarea
- [x] Update Details button
- [x] Delete button

### Audit Trail (Admin only)
- [x] "Proposed by [name] on [date]"
- [x] "Last modified by [name] on [date]"

---

## 6. Discussion Guide Modal

### View Mode
- [x] Display numbered discussion questions
- [x] AI attribution footer ("Generated by...")
- [x] Print Guide button
- [x] Export to Word button (.docx download)
- [x] Edit Questions toggle

### Edit Mode
- [x] Textarea with existing questions
- [x] Save edits to database
- [x] Cancel to revert

### AI Generation
- [x] "Generate Questions with AI" button
- [x] Uses Gemini API for book-specific questions
- [x] Curated questions for special books (fallback)

---

## 7. Import Modal

### Text Import
- [x] Paste list of book titles (one per line)
- [x] Search Google Books for each title
- [x] Review carousel with book cards
- [x] Select correct match or search again
- [x] Confirm All or Skip options
- [x] Books saved as "Proposed" status

### Vision Import
- [x] Upload image of book list/covers
- [x] Gemini Vision AI extracts book titles
- [x] Same review/confirm flow as text import

### Import Summary
- [x] Shows added/skipped/not found counts
- [x] Collapsible "Add More Books" bar

---

## 8. Settings Menu

### For Everyone
- [x] Export Schedule (CSV of Scheduled books)
- [x] Text Size selector (S, M, L, XL)
- [x] Sign Out button

### Admin Only
- [x] Export by Status dropdown (CSV by selected status)
- [x] Backup Data (full JSON export)
- [x] Show Test Data toggle

---

## 9. General Features

### UI/UX
- [x] Responsive design (mobile, tablet, desktop)
- [x] Custom scrollbars
- [x] Smooth transitions and animations
- [x] Playfair Display + Inter fonts
- [x] Version number in footer

### Data Management
- [x] Supabase PostgreSQL backend
- [x] Row Level Security on tables
- [x] Automatic tag generation on save
- [x] Automatic rating fetch from Open Library

### API Integrations
- [x] Google Books API (search, metadata)
- [x] Open Library API (ratings, fallback data)
- [x] Gemini AI (discussion questions, tag suggestions, vision import)

---

## Future Features (Backlog)

- [ ] Host Alerts: Notifications when host claims month or changes time
- [ ] Multi-book-club support
- [ ] Member management (add, remove, align to clubs)
- [ ] Manager role (per-club admin)
- [ ] Restore from backup JSON
- [ ] Rule-based tagging fix ("New York" issue)
